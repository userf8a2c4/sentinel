master_switch: "ON" # ON/OFF para habilitar procesos automáticos.
base_url: "https://api.example.com/cne/resultados" # URL base del API oficial.
# Ejemplo de URL completa (NACIONAL): https://api.example.com/cne/resultados?ambito=NACIONAL&nivel=PRES
# Ejemplo de URL completa (DEPARTAMENTO): https://api.example.com/cne/resultados?ambito=DEPARTMENT&nivel=PD&cod_departamento=01
# Parámetros comunes: ambito (NATIONAL/DEPARTMENT), nivel (PRES/PD), cod_departamento (01-18).
endpoints:
  # Endpoint principal de resultados presidenciales nacionales
  # National presidential results main endpoint
  # Si falla → fallback a Playwright scraping
  nacional: "https://resultadosgenerales2025.cne.hn/api/presidencial/nacional"
  # Variante conocida para totales nacionales
  # Known national totals variant
  fallback_nacional: "https://resultadosgenerales2025.cne.hn/api/resultados/presidencial/totales"
  # Endpoints por departamento (01-18)
  # Department endpoints (01-18)
  "01": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/01"
  "02": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/02"
  "03": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/03"
  "04": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/04"
  "05": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/05"
  "06": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/06"
  "07": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/07"
  "08": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/08"
  "09": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/09"
  "10": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/10"
  "11": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/11"
  "12": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/12"
  "13": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/13"
  "14": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/14"
  "15": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/15"
  "16": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/16"
  "17": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/17"
  "18": "https://resultadosgenerales2025.cne.hn/api/presidencial/departamento/18"
timeout: 15 # Segundos máximos por solicitud.
retries: 3 # Reintentos totales antes de fallar.
headers: # Encabezados HTTP enviados en cada solicitud.
  Accept: "application/json" # Tipo de respuesta esperado.
  User-Agent: "C.E.N.T.I.N.E.L./1.0" # Identificador del cliente.
use_playwright: false # Usa Playwright como fallback cuando falle la descarga HTTP.
playwright_stealth: true # Activa el modo stealth (playwright-stealth) si está disponible.
playwright_user_agent: "C.E.N.T.I.N.E.L./1.0" # User-Agent para el contexto Playwright (por defecto usa headers.User-Agent).
playwright_viewport: # Viewport para Playwright.
  width: 1280
  height: 720
playwright_locale: "es-HN" # Locale del contexto Playwright.
playwright_timezone: "America/Tegucigalpa" # Timezone del contexto Playwright.
backoff_base_seconds: 1 # Espera inicial entre reintentos.
backoff_max_seconds: 30 # Espera máxima entre reintentos.
candidate_count: 10 # Número de candidatos esperados por fuente.
required_keys: [] # Claves obligatorias adicionales, si aplica.
field_map: # Mapeo de rutas JSON hacia campos normalizados.
  totals: # Totales agregados por fuente.
    valid_votes: # Votos válidos.
      - "estadisticas.distribucion_votos.validos" # Ruta JSON para votos válidos.
    null_votes: # Votos nulos.
      - "estadisticas.distribucion_votos.nulos" # Ruta JSON para votos nulos.
    blank_votes: # Votos en blanco.
      - "estadisticas.distribucion_votos.blancos" # Ruta JSON para votos en blanco.
    total_votes: # Total de votos.
      - "estadisticas.distribucion_votos.total" # Ruta JSON para total de votos.
  candidate_roots: # Raíces JSON donde vienen los candidatos.
    - "resultados" # Ruta JSON principal de resultados por candidato.

sources: # Fuentes configuradas para consultas.
  - name: "Nacional" # Etiqueta legible de la fuente.
    source_id: "NACIONAL" # Identificador para ambito=NATIONAL.
    level: "PRES" # Nivel electoral para esta fuente.
    scope: "NATIONAL" # Alcance de la fuente.
  - name: "Atlántida" # Etiqueta legible de la fuente.
    department_code: "01" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Choluteca" # Etiqueta legible de la fuente.
    department_code: "02" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Colón" # Etiqueta legible de la fuente.
    department_code: "03" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Comayagua" # Etiqueta legible de la fuente.
    department_code: "04" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Copán" # Etiqueta legible de la fuente.
    department_code: "05" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Cortés" # Etiqueta legible de la fuente.
    department_code: "06" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "El Paraíso" # Etiqueta legible de la fuente.
    department_code: "07" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Francisco Morazán" # Etiqueta legible de la fuente.
    department_code: "08" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Gracias a Dios" # Etiqueta legible de la fuente.
    department_code: "09" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Intibucá" # Etiqueta legible de la fuente.
    department_code: "10" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Islas de la Bahía" # Etiqueta legible de la fuente.
    department_code: "11" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "La Paz" # Etiqueta legible de la fuente.
    department_code: "12" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Lempira" # Etiqueta legible de la fuente.
    department_code: "13" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Ocotepeque" # Etiqueta legible de la fuente.
    department_code: "14" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Olancho" # Etiqueta legible de la fuente.
    department_code: "15" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Santa Bárbara" # Etiqueta legible de la fuente.
    department_code: "16" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Valle" # Etiqueta legible de la fuente.
    department_code: "17" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.
  - name: "Yoro" # Etiqueta legible de la fuente.
    department_code: "18" # Código de departamento (01-18).
    level: "PD" # Nivel electoral para esta fuente.
    scope: "DEPARTMENT" # Alcance de la fuente.

logging:
  level: INFO # Opciones: DEBUG, INFO, WARNING, ERROR
  file: centinel.log # Ruta relativa al root

blockchain:
  enabled: false
  network: polygon-mumbai
  private_key: "0x..." # Advertencia: nunca commitear, usar secrets manager o .gitignore

alerts:
  critical_anomaly_types:
    - ARITHMETIC_MISMATCH
    - NEGATIVE_DELTA
    - CHANGE_POINT
    - RELATIVE_DELTA
    - SCRUTINY_JUMP
    - VOTE_BREAKDOWN_MISMATCH
  telegram:
    enabled: false
    bot_token: "" # Advertencia: nunca commitear, usar secrets manager o .gitignore
    chat_id: ""
    template: "neutral"
  x:
    enabled: false
    api_key: "" # Advertencia: nunca commitear, usar secrets manager o .gitignore
    api_secret: ""
    access_token: ""
    access_token_secret: ""

arbitrum:
  enabled: false
  rpc_url: "https://arb1.arbitrum.io/rpc"
  private_key: "0x..." # Advertencia: nunca commitear, usar secrets manager o .gitignore
  contract_address: "0x..." # Después del deploy
  interval_minutes: 15
  batch_size: 19

rules:
  global_enabled: true
  trend_shift:
    enabled: true
    threshold_percent: 10
    max_hours: 3
  processing_speed:
    enabled: true
    max_actas_per_15min: 500
  irreversibility:
    enabled: true
    historical_participation_rate: 0.60
    sqlite_path: "reports/irreversibility_state.db"
  benford_law:
    enabled: true
    chi_square_threshold: 0.05
    deviation_pct: 15
    min_samples: 10
  ml_outliers:
    enabled: true
    contamination: 0.1
    min_samples: 5
  basic_diff:
    enabled: true
    relative_vote_change_pct: 15
  participation_anomaly:
    enabled: true
    scrutiny_jump_pct: 5
